<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Page Title</title>
    <link rel="stylesheet" href="pagination.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <ul class="pagination" id="pagelist"></ul>
    <script src="pagination.js"></script>
    <script>
      // 分页元素ID（必填）
      var selector = "#pagelist";

      // 分页配置
      var pageOption = {
        // 每页显示数据条数（必填）
        limit: 5,
        // 数据总数（一般通过后端获取，必填）
        count: 162,
        // 当前页码（选填，默认为1）
        curr: 1,
        // 是否显示省略号（选填，默认显示）
        ellipsis: true,
        // 当前页前后两边可显示的页码个数（选填，默认为2）
        pageShow: 2,
        // 开启location.hash，并自定义hash值 （默认关闭）
        // 如果开启，在触发分页时，会自动对url追加：#!hash值={curr} 利用这个，可以在页面载入时就定位到指定页
        hash: false,
        // 页面加载后默认执行一次，然后当分页被切换时再次触发
        callback: function(obj) {
          // obj.curr：获取当前页码
          // obj.limit：获取每页显示数据条数
          // obj.isFirst：是否首次加载页面，一般用于初始加载的判断

          // 首次不执行
          if (!obj.isFirst) {
            // do something
          }
        }
      };
      Pagination = window.returnExports;
      new Pagination(selector, pageOption);

      function showPages(page, total, show) {
        var str = "";
        if (page < show + 1) {
          for (var i = 1; i <= show * 2 + 1; i++) {
            str = str + " " + i;
          }
        } else if (page > total - show) {
          for (var i = total - show * 2; i <= total; i++) {
            str = str + " " + i;
          }
        } else {
          for (var i = page - show; i <= page + show; i++) {
            str = str + " " + i;
          }
        }
        return str.trim();
      }
    </script>
  </body>
</html>
